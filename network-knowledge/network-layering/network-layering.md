## 网络分层

> 整个网络系统可以分为网络边缘和网络核心

**网络边缘**

* 主机设备，一切的联网设备[基础设施]

**网络核心**

* 路由器
* 交换机

基础设施[主机] --> 通过接入点 --> 接入网络核心

**网络数据交换方式**

* 电路交换

**特点**

1) 资源独享
2) 建立连接时间长
3) 性能有保障
4) 适合电话之间的通信
5) 宽带分片的方式有[频分]FDM，[时分]TDM，[波分]WPM，[CDMA]

* 分组交换

**特点**

1) 建立连接时间短
2) 资源共享,按需使用
3) 性能相对没有保障
4) 适合计算机之间的通信

**举例**

> Client1 -> switch1 -> switch2 -> server1
> 客户端1发送数据到服务1，中间假设经过两个交换机，客户端1发送数据到交换机1，数据是先存储再转发，交换机2接受到数据之后也是先存储，再转发，最后到达服务
> 每个发送也是接收

**关于分组交换时间**

* 数据量大的时候，处理延迟
* 用户多的时候，排队延迟
* 传输延迟
* 距离远，传播延迟

**关于排队延迟**

> 到达速率大于链路的输出速率，分组将会排队，等待传输
> 路由器的缓存使用完了，分组到达的数据将会被丢弃

**关于服务的分层**

* 服务和协议的关系

> 本层的协议实现需要借助下层的服务，但是实现本层协议的目的还是为了向上层提供更好的服务

* 自下而上可以把网络分为，物理层，数据链路层，网络层，传输层，应用层

|序号|层|意|数据格式
|:---:|:---:|:---:|:---:|
5|物理层|主机|位/bit
4|数据链路层|路由器，交换机|祯/frame
3|网络层|IP|分组/packet,无连接：数据报/datagram
2|传输层|tcp，udp|报文段/segment,tcp段；udp数据报
1|应用层|http,ftp,smtp|报文/message

> 白话记忆：首先是最下层[物理层]比如浏览器发送一个url请求数据，首先是在主机中通过输入连接，主机中将人类可见的数据转化为“代码”，发送出去，主机是连接
> 网线的，数据通过网线或者wifi发送出去，也就是把数据转化为电信号或者光信号发送，主机是可见的，也是最下层的。[数据链路层]，主机通过网线或者wifi连接
> 网络，传出数据，数据通过“网线”传输，网线连接又是路由器|交换机这些设备，整个网络都是通过连接串联起来最终形成。交换机和交换机之间是点对点传输，远端的
> server也是通过路由器交换机连接起来，数据需要从哪儿来到哪儿去，去就需要地址IP。[网络层]它就是在数据链路层之上，而传输层又在网络层之上，传输层上
> 的TCP|UDP其实就是一个个进程的程序（文件）,通过socket监听，网络层是让数据知道要去哪儿，而传输层是让数据知道去哪一个具体的地方，传输层的TCP|UDP
> 连接，也是一种服务，而它的服务就是为最上层[应用层所服务]，让整个程序知道要干嘛

